<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DuoSabor â€¢ CardÃ¡pio</title>
<link rel="icon" href="logo.png" />

<style>
:root{
  --bg:#f7f3ea;
  --card:#ffffff;
  --accent:#c63f3f;
  --accent-dark:#b03535;
  --muted:#7b6d63;
  --success:#25d366;
  --max-width:900px;
  --radius:14px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--bg);
  color:#222;
  display:flex;
  justify-content:center;
  padding:22px;
}
.container{
  width:100%;
  max-width:var(--max-width);
}
.header{
  display:flex;
  align-items:center;
  gap:18px;
  background:linear-gradient(90deg, rgba(255,255,255,0.7), rgba(255,255,255,0.9));
  padding:18px;
  border-radius:var(--radius);
  margin-bottom:18px;
  box-shadow:0 6px 18px rgba(10,10,10,0.04);
}
.logo{
  width:92px;
  height:92px;
  border-radius:16px;
  object-fit:contain;
  background:#fff;
  padding:6px;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
}
.header h1{
  margin:0;
  font-size:20px;
  color:var(--accent);
}
.header p{ margin:0; color:var(--muted) }

.banner{
  margin:12px 0 18px 0;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(14,14,14,0.05);
}
.banner img{ width:100%; height:220px; object-fit:cover; display:block; }

.grid{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:18px;
}
@media(max-width:940px){
  .grid{ grid-template-columns: 1fr; }
}

/* produtos */
.products{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.card{
  display:flex;
  gap:14px;
  background:var(--card);
  padding:12px;
  border-radius:12px;
  align-items:center;
  box-shadow:0 6px 12px rgba(10,10,10,0.04);
}
.card-img{
  width:140px;
  height:110px;
  border-radius:10px;
  overflow:hidden;
  flex-shrink:0;
}
.card-img img{ width:100%; height:100%; object-fit:cover; display:block; }
.card-body{ flex:1 }
.card-body h3{ margin:0 0 6px 0; font-size:18px; color:#2b2b2b; }
.card-body p{ margin:0; color:var(--muted); font-size:14px; }
.card-actions{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:8px;
}

/* quantidade */
.qty{
  display:flex;
  align-items:center;
  gap:8px;
  background:#fff7f7;
  padding:6px;
  border-radius:8px;
  border:1px solid rgba(0,0,0,0.04);
}
.qty button{
  border:0;
  background:transparent;
  font-size:18px;
  cursor:pointer;
  padding:6px 8px;
}
.price{ font-weight:700; color:var(--accent); margin-bottom:6px; }

/* sidebar carrinho */
.cart{
  background:var(--card);
  padding:14px;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(10,10,10,0.04);
  height:fit-content;
}
.cart h3{ margin:0 0 10px 0; color:var(--accent) }
.cart-list{ max-height:320px; overflow:auto; margin-bottom:10px; display:flex; flex-direction:column; gap:8px; }
.cart-item{
  display:flex;
  justify-content:space-between;
  gap:8px;
  align-items:center;
  padding:8px;
  border-radius:8px;
  background:linear-gradient(180deg, #fff, #fff);
  border:1px solid rgba(0,0,0,0.03);
}
.small{ font-size:13px; color:var(--muted) }

/* aÃ§Ãµes finais */
.total{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; font-weight:700; font-size:18px; }
.actions{ display:flex; flex-direction:column; gap:10px; margin-top:12px; }
.btn{
  display:inline-flex;
  justify-content:center;
  gap:8px;
  align-items:center;
  padding:10px 12px;
  border-radius:10px;
  border:0;
  cursor:pointer;
  font-weight:700;
  text-decoration:none;
}
.btn-primary{ background:var(--accent); color:#fff; box-shadow:0 8px 20px rgba(198,63,63,0.12); }
.btn-green{ background:var(--success); color:#fff; }
.btn-ghost{ background:transparent; color:var(--accent); border:1px solid rgba(198,63,63,0.08); }

/* footer note */
.note{ margin-top:12px; color:var(--muted); font-size:13px; text-align:center; }

/* small screen tweaks */
@media(max-width:520px){
  .card-img{ width:110px; height:86px; }
  .header{ padding:12px }
  .banner img{ height:160px; }
}
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <img class="logo" src="logo.png" alt="DuoSabor logo" />
      <div>
        <h1>DuoSabor â€¢ Coroaci</h1>
        <p>@Duosabor.coroaci_ â€¢ Pedidos via WhatsApp / Instagram</p>
      </div>
    </header>

    <div class="banner">
      <img src="banner.jpg" alt="Banner DuoSabor" />
    </div>

    <div class="grid">
      <!-- Produtos -->
      <section class="products" id="products"></section>

      <!-- Carrinho / Sidebar -->
      <aside class="cart">
        <h3>Seu pedido <span id="countBadge" style="font-weight:600;color:#666"> (0)</span></h3>

        <div class="cart-list" id="cartList">
          <div class="small" id="emptyCart">Nenhum item no carrinho. Adicione algo do cardÃ¡pio!</div>
        </div>

        <div class="total">
          <span>Total</span>
          <span>R$ <span id="totalPrice">0.00</span></span>
        </div>

        <div class="actions">
          <button class="btn btn-ghost" onclick="copyPedido()">ðŸ“‹ Copiar pedido</button>

          <a id="wplink" class="btn btn-primary" target="_blank" href="#">ðŸ“² Enviar pelo WhatsApp</a>

          <a id="instalink" class="btn btn-green" target="_blank" href="#">ðŸ“© Abrir Direct (Instagram)</a>
        </div>

        <div class="note">
          ObservaÃ§Ã£o: Caso o Direct nÃ£o abra com a mensagem, cole o pedido copiado no Direct.
        </div>
      </aside>
    </div>
  </div>

<script>
// Produtos: cada item tem nome, preco e arquivo de imagem (colocar os arquivos na mesma pasta)
const produtos = [
  { id: 'ninho', nome: "Ninho com morango", preco: 12, img: "ninho.jpg" },
  { id: 'maracuja', nome: "Ninho com maracujÃ¡", preco: 12, img: "maracuja.jpg" },
  { id: 'limao', nome: "LimÃ£o", preco: 12, img: "limao.jpg" },
  { id: 'choconinho', nome: "Choconinho", preco: 12, img: "choconinho.jpg" },
  { id: 'prestigio', nome: "PrestÃ­gio", preco: 12, img: "prestigio.jpg" },
  { id: 'churros', nome: "Churros", preco: 12, img: "churros.jpg" },
  { id: 'chocolate', nome: "Chocolate", preco: 12, img: "chocolate.jpg" },
  { id: 'cenoura', nome: "Cenoura", preco: 12, img: "cenoura.jpg" },
  { id: 'doce330', nome: "Doce de leite 330g", preco: 15, img: "doce330.jpg" },
  { id: 'doce660', nome: "Doce de leite 660g", preco: 30, img: "doce660.jpg" }
];

let carrinho = {}; // {id: quantidade}

// --- Helpers
function formatPrice(n){ return n.toFixed(2).replace('.',','); }

// --- Render produtos (estilo 1: imagem grande)
function renderProdutos(){
  const root = document.getElementById('products');
  root.innerHTML = produtos.map(p => `
    <article class="card">
      <div class="card-img"><img src="${p.img}" alt="${p.nome}" onerror="this.src='banner.jpg'"></div>
      <div class="card-body">
        <h3>${p.nome}</h3>
        <p class="small">Delicioso e fresquinho</p>
      </div>

      <div class="card-actions">
        <div class="price">R$ ${formatPrice(p.preco)}</div>
        <div class="qty">
          <button onclick="decrease('${p.id}')">âˆ’</button>
          <div id="q-${p.id}" style="min-width:26px;text-align:center;">0</div>
          <button onclick="increase('${p.id}')">+</button>
        </div>
        <div style="margin-top:6px;">
          <button class="btn btn-ghost" onclick="addToCart('${p.id}')">Adicionar</button>
        </div>
      </div>
    </article>
  `).join('');
}

// --- Cart operations
function addToCart(id){
  if(!carrinho[id]) carrinho[id] = 0;
  carrinho[id] += 1;
  updateUI();
}
function increase(id){
  if(!carrinho[id]) carrinho[id]=0;
  carrinho[id] += 1;
  updateUI();
}
function decrease(id){
  if(!carrinho[id]) return;
  carrinho[id] -= 1;
  if(carrinho[id] <= 0) delete carrinho[id];
  updateUI();
}
function removeItem(id){
  delete carrinho[id];
  updateUI();
}

function updateUI(){
  // update quantities in cards
  produtos.forEach(p => {
    const qEl = document.getElementById('q-'+p.id);
    if(qEl) qEl.innerText = carrinho[p.id] || 0;
  });

  // cart list
  const list = document.getElementById('cartList');
  const empty = document.getElementById('emptyCart');
  const ids = Object.keys(carrinho);
  if(ids.length === 0){
    list.innerHTML = '<div class="small" id="emptyCart">Nenhum item no carrinho. Adicione algo do cardÃ¡pio!</div>';
  }else{
    list.innerHTML = ids.map(id => {
      const p = produtos.find(x=>x.id===id);
      const qty = carrinho[id];
      return `
        <div class="cart-item">
          <div>
            <div style="font-weight:700;">${p.nome}</div>
            <div class="small">R$ ${formatPrice(p.preco)} â€¢ ${qty} unidade(s)</div>
          </div>
          <div style="text-align:right;">
            <div style="font-weight:700;color:var(--accent)">R$ ${formatPrice(p.preco * qty)}</div>
            <div style="margin-top:6px;">
              <button class="btn-ghost" style="padding:6px 8px;margin-right:6px" onclick="decrease('${id}')">âˆ’</button>
              <button class="btn-ghost" style="padding:6px 8px" onclick="increase('${id}')">+</button>
              <button class="btn-ghost" style="padding:6px 8px;margin-left:8px" onclick="removeItem('${id}')">Remover</button>
            </div>
          </div>
        </div>
      `;
    }).join('');
  }

  // total
  const total = produtos.reduce((acc,p) => {
    const q = carrinho[p.id] || 0;
    return acc + p.preco * q;
  }, 0);
  document.getElementById('totalPrice').innerText = formatPrice(total);
  document.getElementById('countBadge').innerText = ` (${ids.length})`;

  // prepare message and links
  prepareLinks();
}

function prepareLinks(){
  const texto = gerarTextoPedido();
  const enc = encodeURIComponent(texto);

  // WhatsApp â€” nÃºmero em formato internacional: 5533984553145
  const wa = `https://wa.me/5533984553145?text=${enc}`;
  document.getElementById('wplink').href = wa;

  // Instagram Direct â€” OBS: Instagram restringe prefill; cada caso varia.
  // Algumas contas/ambientes nÃ£o aceitarÃ£o ?text=. Ainda assim deixamos o link para tentar.
  // Caso nÃ£o funcione, o usuÃ¡rio pode colar o pedido manualmente.
  // Tentar abrir direct via username:
  // note: replace 'duosabor.coroaci_' por seu username exato se quiser
  const igDirectTry = `https://www.instagram.com/direct/t/duosabor.coroaci_`;
  document.getElementById('instalink').href = igDirectTry;

  // also store mensagem no atributo para copiar facilmente
  document.getElementById('instalink').dataset.msg = texto;
  document.getElementById('wplink').dataset.msg = texto;
}

function gerarTextoPedido(){
  const ids = Object.keys(carrinho);
  if(ids.length===0) return "OlÃ¡! Gostaria de fazer um pedido.";
  const lines = ["OlÃ¡! Gostaria de pedir:",""];
  produtos.forEach(p=>{
    const q = carrinho[p.id] || 0;
    if(q>0) lines.push(`â€¢ ${p.nome} â€” ${q} x R$ ${formatPrice(p.preco)}`);
  });
  const total = produtos.reduce((acc,p) => acc + (carrinho[p.id]||0)*p.preco, 0);
  lines.push("", `Total: R$ ${formatPrice(total)}`, "", "Nome: ", "EndereÃ§o/Entrega (se necessÃ¡rio): ");
  return lines.join("\n");
}

// copiar pedido
function copyPedido(){
  const text = gerarTextoPedido();
  navigator.clipboard?.writeText(text).then(()=>{
    alert("Pedido copiado para a Ã¡rea de transferÃªncia. Abra o Direct ou o WhatsApp e cole.");
  }).catch(()=>{
    // fallback
    const ta = document.createElement('textarea');
    ta.value = text; document.body.appendChild(ta);
    ta.select(); try{ document.execCommand('copy'); alert("Pedido copiado!"); }catch(e){ alert("NÃ£o foi possÃ­vel copiar automaticamente."); }
    ta.remove();
  });
}

// inicializa
renderProdutos();
updateUI();
</script>
</body>
</html>
